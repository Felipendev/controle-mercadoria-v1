<div class="container p-2">
    <div class="flex-container">
        <div class="float-left">
            <h4>Produtos</h4>
        </div>
        <div class="btns-header">
            <button type="button" (click)="show()" class="p-button-info" pButton icon="pi pi-info-circle" label="Novo Produto"></button>
            {{ '' }}
            <button type="button" pButton class="p-button-info" [routerLink]="['/search']">Buscar Produto</button>
            {{ '' }}
            <button type="button" pButton class="p-button-warning" (click)="onRefresh()">Atualizar</button>               
        </div>
    </div>
    <p-table #dt1 [value]="clientes$" selectionMode="single" [(selection)]="clienteSelecionado" dataKey="id"
        styleClass="p-datatable-clientes" [rows]="10" [paginator]="true" stateStorage="session"
        stateKey="statedemo-session" [responsive]="true">
        <ng-template pTemplate="header">
            <tr class="">
                <th pSortableColumn="id">#<p-sortIcon field="id"></p-sortIcon>
                </th>
                <th pSortableColumn="nome">Nome <p-sortIcon field="nome"></p-sortIcon>
                </th>
                <th pSortableColumn="sobrenome">Sobrenome <p-sortIcon field="sobrenome"></p-sortIcon>
                </th>
                <th pSortableColumn="dataRecebimento">Data Recebimento <p-sortIcon field="dataRecebimento">
                    </p-sortIcon>
                </th>
                <th pSortableColumn="codigo">Código <p-sortIcon field="codigo"></p-sortIcon>
                </th>
                <th pSortableColumn="statusProduto">Status <p-sortIcon field="statusProduto"></p-sortIcon>
                </th>
                <th></th>
            </tr>
        </ng-template>
        <ng-template pTemplate="body" let-cliente>
            <tr [pSelectableRow]="cliente">
                <td>
                    <span class="p-column-title">Id</span>
                    {{cliente.id}}
                </td>
                <td>
                    <span class="p-column-title">Nome</span>
                    {{cliente.nome}}
                </td>
                <td>
                    <span class="p-column-title">Sobrenome</span>
                    <span class="image-text">{{cliente.sobrenome}}</span>
                </td>
                <td>
                    <span class="p-column-title">Data Recebimento</span>
                    <span class="image-text">{{cliente.dataRecebimento | date:'dd/MM/yyyy':'UTC'}}</span>
                </td>
                <td>
                    <span class="p-column-title">Código</span>
                    <span class="image-text">{{cliente.codigo}}</span>
                </td>
                <td>
                    <span class="p-column-title">statusProduto</span>
                    <span class="customer-badge status-{{ type }}" href="javascript:;"
                        [pTooltip]="cliente.status ? 'DELETADO' : 'ENTREGUE' "
                        tooltipPosition="top">{{cliente.statusProduto }}</span>
                </td>
                <td>
                    <span class="float-right">
                        <button class="btn btn-outline-warning mb-1 btn-sm" (click)="onEdit(cliente.id)">Atualizar</button>
                        {{ '' }}
                        <button class="btn btn-outline-danger mb-1 btn-sm" (click)="onDelete(cliente)">Remover</button>
                    </span>
                </td>
            </tr>
        </ng-template>
        <ng-template pTemplate="emptymessage">
            <tr>
                <td colspan="4">Buscando produtos...</td>
            </tr>
        </ng-template>
    </p-table>
</div>

<p-confirmDialog [style]="{width: '50vw'}" [position]="position" [baseZIndex]="10000" header="Confirmation" icon="pi pi-exclamation-triangle"></p-confirmDialog>
<p-toast></p-toast>